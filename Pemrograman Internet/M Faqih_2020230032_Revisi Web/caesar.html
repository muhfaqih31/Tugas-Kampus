<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Caesar Cipher</title>

    <script type="text/javascript">


      function encrypt(message, n) {

         result = "";

         for(let i = 0; i < message.length; i++) {
           if(message[i] >= 'A' && message[i] <= 'Z') {
             result += String.fromCharCode((message.charCodeAt(i) + parseInt(n) - 65) % 26 + 65);
           }

          else if(message[i] >= 'a' && message[i] <= 'z') {
             result += String.fromCharCode((message.charCodeAt(i) + parseInt(n) - 97) % 26 + 97);
         }

         else if (message[i] >= '0' && message[i] <= '9') {
            result += (message[i] - 48 + parseInt(n) % 10)  + 48;
        }

      }
       return result;
    }

    function encryptOnClick() {
      const getString = document.querySelector('#string').value;
      const getShift  = document.querySelector('#shift').value;
      document.getElementById("hasil").innerHTML = encrypt(getString, getShift);
    }

      function decrypt(message, n) {

        result = "";

        for(let i = 0; i < message.length; i++) {
            if(message[i] >= 'A' && message[i] <= 'Z') {
              result += String.fromCharCode((message.charCodeAt(i) - parseInt(n) - 65 + 26) % 26 + 65);
            }

           else if(message[i] >= 'a' && message[i] <= 'z') {
              result += String.fromCharCode((message.charCodeAt(i) - parseInt(n) - 97 + 26) % 26 + 97);
           }

           else if (message[i] >= '0' && message[i] <= '9') {
              result += (message[i] - 48 - parseInt(n) % 10)  + 48;
          }
        }

        return result;
      }

      function decryptOnClick() {
        const getString = document.querySelector('#string').value;
        const getShift  = document.querySelector('#shift').value;
        document.getElementById("hasil").innerHTML = decrypt(getString, getShift);
      }

      function crack() {
        const getString = document.querySelector('#cipher').value;
        document.getElementById('result').innerHTML = "";
        for(let i = 0; i < 26; i++) {

          let ptag = document.createElement('p');
          // ptag.classList.add('houses');
          // ptag.id = i;
          ptag.innerHTML = `Attempt ${i}:  ${decrypt(getString, i)}`;
          document.getElementById('result').appendChild(ptag);
        }

      }

    </script>
  </head>
  <body>
    <h1>Caesar Cipher by Siber Faqih</h1>
    <input id="string" type="text" placeholder="insert string"><br> <br>
    <input id="shift" type="text" placeholder="insert shift"><br /> <br>
    <button onclick="encryptOnClick()" type="button" name="button">Encrypt</button>
    <button onclick="decryptOnClick()" type="button" name="button">Decrypt</button>
    <p id="hasil">Hasil</p>

    <hr />

    <h1>Caesar Cipher Cracker</h1>
    <p>You can use this crack if you don't know the shift.</p>
    <input id="cipher" type="text" placeholder="insert cipher"><br> <br>
    <button onclick="crack()" type="button" name="button">Crack</button>
    <div id="result"></div>
  </body>
</html>
